---------------------------------------UC8------------Alter data---------------------------------------

mysql> ALTER TABLE employee_payroll ADD phone_number VARCHAR(250) AFTER name;
Query OK, 0 rows affected (2.07 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> ALTER TABLE employee_payroll ADD address VARCHAR(250) AFTER phone_number;
Query OK, 0 rows affected (1.29 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> ALTER TABLE employee_payroll ADD department VARCHAR(250) AFTER address;
Query OK, 0 rows affected (0.77 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> ALTER TABLE employee_payroll ALTER department SET DEFAULT 'TBD';
Query OK, 0 rows affected (0.14 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> describe employee_PAYROLL;
+--------------+--------------+------+-----+---------+----------------+
| Field        | Type         | Null | Key | Default | Extra          |
+--------------+--------------+------+-----+---------+----------------+
| id           | int unsigned | NO   | PRI | NULL    | auto_increment |
| name         | varchar(150) | NO   |     | NULL    |                |
| phone_number | varchar(250) | YES  |     | NULL    |                |
| address      | varchar(250) | YES  |     | NULL    |                |
| department   | varchar(250) | YES  |     | TBD     |                |
| gender       | char(1)      | YES  |     | NULL    |                |
| salary       | double       | NO   |     | NULL    |                |
| start        | date         | NO   |     | NULL    |                |
+--------------+--------------+------+-----+---------+----------------+
8 rows in set (0.03 sec)

mysql> SELECT * FROM employee_payroll;
+----+------+--------------+---------+------------+--------+--------+------------+
| id | name | phone_number | address | department | gender | salary | start      |
+----+------+--------------+---------+------------+--------+--------+------------+
|  1 | Bill | NULL         | NULL    | NULL       | M      |  100000 | 2021-01-03 |
|  2 | Charlie | NULL         | NULL    | NULL       | M      |  200000 | 2019-01-05 |
|  3 | Terisa | NULL         | NULL    | NULL       | F     |  300000 | 2018-02-06 |
+----+------+--------------+---------+------------+--------+--------+------------+
3 rows in set (0.02 sec)


---------------------------------UC9-------Extend emp_payroll-------------------------------------------------------

mysql> ALTER TABLE employee_payroll RENAME COLUMN salary TO basic_pay;
Query OK, 0 rows affected (0.12 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> ALTER TABLE employee_payroll ADD deductions DOUBLE NOT NULL AFTER basic_pay;
Query OK, 0 rows affected (1.48 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> ALTER TABLE employee_payroll ADD taxable_pay DOUBLE NOT NULL AFTER deductions;
Query OK, 0 rows affected (0.89 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> ALTER TABLE employee_payroll ADD tax DOUBLE NOT NULL AFTER taxable_pay;
Query OK, 0 rows affected (1.89 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> ALTER TABLE employee_payroll ADD net_pay DOUBLE NOT NULL AFTER tax;
Query OK, 0 rows affected (0.79 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> describe employee_PAYROLL;
+--------------+--------------+------+-----+---------+----------------+
| Field        | Type         | Null | Key | Default | Extra          |
+--------------+--------------+------+-----+---------+----------------+
| id           | int unsigned | NO   | PRI | NULL    | auto_increment |
| name         | varchar(150) | NO   |     | NULL    |                |
| phone_number | varchar(250) | YES  |     | NULL    |                |
| address      | varchar(250) | YES  |     | NULL    |                |
| department   | varchar(250) | YES  |     | TBD     |                |
| gender       | char(1)      | YES  |     | NULL    |                |
| basic_pay    | double       | NO   |     | NULL    |                |
| deductions   | double       | NO   |     | NULL    |                |
| taxable_pay  | double       | NO   |     | NULL    |                |
| tax          | double       | NO   |     | NULL    |                |
| net_pay      | double       | NO   |     | NULL    |                |
| start        | date         | NO   |     | NULL    |                |
+--------------+--------------+------+-----+---------+----------------+
12 rows in set (0.03 sec)

mysql> SELECT * FROM employee_payroll;
+----+--------+--------------+---------+------------+--------+-----------+------------+-------------+-----+---------+------------+
| id | name   | phone_number | address | department | gender | basic_pay | deductions | taxable_pay | tax | net_pay | start      |
+----+--------+--------------+---------+------------+--------+-----------+------------+-------------+-----+---------+------------+
|  1 | Bill   | NULL         | NULL    | NULL       | M      |     100000|          0 |           0 |   0 |       0 | 2021-01-03 |
|  2 | Charlie| NULL         | NULL    | NULL       | M      |     200000|          0 |           0 |   0 |       0 | 2019-01-05 |
|  3 | Terisa | NULL         | NULL    | NULL       | F      |     300000|          0 |           0 |   0 |       0 | 2018-02-06 |
+----+--------+--------------+---------+------------+--------+-----------+------------+-------------+-----+---------+------------+
3 rows in set (0.00 sec)


-------------------------------UC10--------Add terisa's department------------------------------------------------------------------------------------

mysql> UPDATE employee_payroll SET department = 'Sales' WHERE name = 'Terisa';
Query OK, 0 rows affected (0.35 sec)
Rows matched: 0  Changed: 0  Warnings: 0

mysql> INSERT INTO employee_payroll (name, department, gender, basic_pay, deductions, taxable_pay, tax, net_pay, start) VALUES
    -> ('Terisa', 'Marketing', 'F', 300000.00, 100000.00, 50000.00, 50000.00, 100000.00, '2018-02-06');
Query OK, 1 row affected (0.34 sec)

mysql> select * from employee_payroll;
+----+---------+--------------+---------+------------+--------+-----------+------------+-------------+-------+---------+------------+
| id | name    | phone_number | address | department | gender | basic_pay | deductions | taxable_pay | tax   | net_pay | start      |
+----+---------+--------------+---------+------------+--------+-----------+------------+-------------+-------+---------+------------+
|  1 | Bill    | NULL         | NULL    | NULL       | M      |    100000 |          0 |           0 |     0 |       0 | 2021-01-03 |
|  2 | Charlie | NULL         | NULL    | NULL       | M      |    200000 |          0 |           0 |     0 |       0 | 2019-01-05 |
|  3 | Terisa  | NULL         | NULL    | sales      | F      |    300000 |          0 |           0 |     0 |       0 | 2018-02-06 |
|  4 | Terisa  | NULL         | TBD     | Marketing  | F      |    300000 |     100000 |       50000 | 50000 |  100000 | 2018-02-06 |
+----+---------+--------------+---------+------------+--------+-----------+------------+-------------+-------+---------+------------+
4 rows in set (0.00 sec)

mysql> select * from employee_payroll where name='Terisa';
+----+--------+--------------+---------+------------+--------+-----------+------------+-------------+-------+---------+------------+
| id | name   | phone_number | address | department | gender | basic_pay | deductions | taxable_pay | tax   | net_pay | start      |
+----+--------+--------------+---------+------------+--------+-----------+------------+-------------+-------+---------+------------+
|  3 | Terisa | NULL         | NULL    | sales      | F      |    300000 |          0 |           0 |     0 |       0 | 2018-02-06 |
|  4 | Terisa | NULL         | TBD     | Marketing  | F      |    300000 |     100000 |       50000 | 50000 |  100000 | 2018-02-06 |
+----+--------+--------------+---------+------------+--------+-----------+------------+-------------+-------+---------+------------+
2 rows in set (0.07 sec)



--------------------------------UC11-----Using Entity Relationship---------------------------

mysql> CREATE TABLE employee
    -> (
    -> id INT unsigned NOT NULL AUTO_INCREMENT PRIMARY KEY,
    -> company_id INT REFERENCES company(company_id),
    -> employee_name VARCHAR(50) NOT NULL,
    -> phone_number BIGINT NOT NULL,
    -> address VARCHAR(150) NOT NULL DEFAULT 'TBD',
    -> gender CHAR(1) NOT NULL
    -> );
Query OK, 0 rows affected (2.61 sec)

mysql> CREATE TABLE payroll
    -> (
    -> emp_id INT REFERENCES employee(id),
    -> basic_pay DOUBLE NOT NULL,
    -> deductions DOUBLE NOT NULL,
    -> taxable_pay DOUBLE NOT NULL,
    -> tax DOUBLE NOT NULL,
    -> net_pay DOUBLE NOT NULL);
Query OK, 0 rows affected (0.23 sec)

mysql> CREATE TABLE company
    -> (
    -> company_id INT PRIMARY KEY,
    -> company_name VARCHAR(100) NOT NULL);
Query OK, 0 rows affected (0.17 sec)

mysql> CREATE TABLE department
    -> (
    -> department_id INT PRIMARY KEY,
    -> department_name VARCHAR(100) NOT NULL);
Query OK, 0 rows affected (0.20 sec)

mysql> CREATE TABLE employee_department
    -> (
    -> emp_id INT REFERENCES employee(id),
    -> department_id INT REFERENCES department(department_id));
Query OK, 0 rows affected (0.10 sec)

mysql> INSERT INTO company VALUES
    -> (1,'AMAZON'),
    -> (2,'MICROSOFT'),
    -> (3,'BRIDGELABZ');
Query OK, 3 rows affected (0.04 sec)
Records: 3  Duplicates: 0  Warnings: 0

mysql> INSERT INTO employee VALUES
    -> (101, 1, 'Bill', '9832781255', 'California','M'),
    -> (102, 2, 'Charlie', '7823129021', 'NYC','M'),
    -> (103, 3, 'Terissa', '8956328912', 'San Francisco','F');
Query OK, 3 rows affected (0.32 sec)
Records: 3  Duplicates: 0  Warnings: 0

mysql> INSERT INTO payroll VALUES
    -> (101,100000,10000,30000,5000,55000),
    -> (102,200000,20000,80000,15000,85000),
    -> (103,300000,100000,50000,50000,100000);
Query OK, 3 rows affected (0.17 sec)
Records: 3  Duplicates: 0  Warnings: 0

mysql> INSERT INTO department VALUES
    -> (11, 'Sales'),
    -> (12, 'Marketing'),
    -> (13, 'Management');
Query OK, 3 rows affected (0.11 sec)
Records: 3  Duplicates: 0  Warnings: 0

mysql> INSERT INTO employee_department VALUES
    -> (101,13),
    -> (102,11),
    -> (103,11),
    -> (103,12);
Query OK, 4 rows affected (0.11 sec)
Records: 4  Duplicates: 0  Warnings: 0

mysql> select * from company;
+------------+--------------+
| company_id | company_name |
+------------+--------------+
|          1 | AMAZON       |
|          2 | MICROSOFT    |
|          3 | BRIDGELABZ   |
+------------+--------------+
3 rows in set (0.02 sec)

mysql> select * from employee;
+-----+------------+---------------+--------------+---------------+--------+
| id  | company_id | employee_name | phone_number | address       | gender |
+-----+------------+---------------+--------------+---------------+--------+
| 101 |          1 | Bill          |   9832781255 | California    | M      |
| 102 |          2 | Charlie       |   7823129021 | NYC           | M      |
| 103 |          3 | Terissa       |   8956328912 | San Francisco | F      |
+-----+------------+---------------+--------------+---------------+--------+
3 rows in set (0.04 sec)

mysql> select * from payroll;
+--------+-----------+------------+-------------+-------+---------+
| emp_id | basic_pay | deductions | taxable_pay | tax   | net_pay |
+--------+-----------+------------+-------------+-------+---------+
|    101 |    100000 |      10000 |       30000 |  5000 |   55000 |
|    102 |    200000 |      20000 |       80000 | 15000 |   85000 |
|    103 |    300000 |     100000 |       50000 | 50000 |  100000 |
+--------+-----------+------------+-------------+-------+---------+
3 rows in set (0.07 sec)

mysql> select * from department;
+---------------+-----------------+
| department_id | department_name |
+---------------+-----------------+
|            11 | Sales           |
|            12 | Marketing       |
|            13 | Management      |
+---------------+-----------------+
3 rows in set (0.07 sec)

mysql> select * from employee_department;
+--------+---------------+
| emp_id | department_id |
+--------+---------------+
|    101 |            13 |
|    102 |            11 |
|    103 |            11 |
|    103 |            12 |
+--------+---------------+
4 rows in set (0.00 sec)

